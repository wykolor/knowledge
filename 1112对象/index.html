<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body></body>
  <script>
    //   原始值不能操作属性
    var num = 4;
    //     不报错是因为：包装类 new Number(4).len = 2  delete
    num.len = 2;
    //     不报错是因为：包装类 new Number(4).len Number对象上没有len这个属性 所以报undefined
    console.log(num.len); // undefined
    var str = "abcd";
    //     不报错是因为：包装类 new String('abcd').length = 3  delete
    str.length = 3;
    //     不报错是因为：包装类 new String('abcd').length String本身具有length这个属性 此时的str还是一开始的abcd，所以length还是4
    console.log(str.length); // 4

    //    包装对象(包装类) 练习
    var str = "abc";
    str += 1;
    var test = typeof str;
    if (test.length == 6) {
      test.sign = "typeof 返回的值可能是string";
    }
    console.log(test.sign); // undefined

    var arr = [1, 2, 3, 4, 5];
    arr.length = 2;
    console.log(arr);

    function Person(name, age, sex) {
      var a = 0;
      this.name = name;
      this.age = age;
      this.sex = sex;
      function add() {
        a++;
        console.log(a);
      }
      this.say = add;
    }
    /**
     * 形成了闭包
     * */

    var person1 = new Person("kolor", 18, "female");
    person1.say(); // 1
    person1.say(); // 2
    var person2 = new Person("jiaer", 25, "male");
    person2.say(); // 1
    // 练习题
    let a = { a: 10 };
    let b = { b: 10 };
    let obj = {
      a: 10
    };
    obj[b] = 20;
    console.log(obj[a]);

    // 仿造ES5
    function keys(obj) {
      if (typeof obj !== "object") throw Error(obj + "not is a object");
      var ret = [];
      for (var prop in obj) {
        if (obj.hasOwnProperty(prop)) {
          ret.push(prop);
        }
      }
      return ret;
    }
    function values(obj) {
      if (typeof obj !== "object") throw Error(obj + "not is a object");
      var ret = [];
      for (var prop in obj) {
        if (obj.hasOwnProperty(prop)) {
          ret.push(obj[prop]);
        }
      }
      return ret;
    }
  </script>
</html>
